---
import Header from "../components/Header.tsx";
import ThemeSwitcher from "../components/ThemeSwitcher.tsx";
import { Image } from "astro:assets";
import poo from "../images/poo.svg";
import { Breadcrumbs } from "astro-breadcrumbs";

import "astro-breadcrumbs/breadcrumbs.css";
import Drawer from "../components/layout/Drawer.astro";
import NavBar from "../components/layout/NavBar.astro";

interface Props {
    title: {
        danish: string;
        translation: string;
    };
}

const {
    title: { danish, translation },
} = Astro.props;
---

<html lang="en">
    <script is:inline>
        try {
            // either set the remembered user theme or use the system theme
            // the location of this script is here in order to avoid flashing the default theme
            const chosenTheme =
                localStorage.getItem("theme") ||
                (window.matchMedia("(prefers-color-scheme: dark)").matches
                    ? "forest"
                    : "nord");

            console.log(
                "Setting theme to",
                chosenTheme,
                localStorage.getItem("theme"),
            );
            document.documentElement.setAttribute("data-theme", chosenTheme);
        } catch (e) {
            console.error(e);
        }
    </script>
    <meta charset="UTF-8" />
    <meta name="description" content="Astro description" />
    <meta name="viewport" content="width=device-width" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="generator" content={Astro.generator} />
    <title>{danish}</title>
    <body class="bg-base-100 min-h-screen">
        <NavBar />

        <main class="max-w-screen-2xl m-auto">
            <div class="drawer lg:drawer-open">
                <input
                    id="navigation-drawer"
                    type="checkbox"
                    class="drawer-toggle"
                />

                <div class="drawer-content">
                    <Header text={danish} tooltip={translation} />
                    <div class="divider mb-10"></div>
                    <slot />
                    <div class="divider mb-10"></div>
                </div>
                <Drawer />
            </div>
        </main>
    </body>
</html>
